/************************************************************************************************************
* @file	hw_desc_wdt_stm32f1.h
* @date	26.07.2023
*************************************************************************************************************
* @brief This file contains some functions to handle independent watchdog timer
*
************************************************************************************************************/



#ifndef HW_DESC_WDT_STM32F1_H_
#define HW_DESC_WDT_STM32F1_H_


#include <stdint.h>
#include <stdbool.h>

/********************************************************************************************************************
*													                                                                *
*	                                  T Y P E D E F                                                                 *
*   													                                                            *
********************************************************************************************************************/

/**
 * callback functions types declarations
 */
typedef void (*wdtResetFunc_t)(void);

/********************************************************************************************************************
*													                                                                *
*	                                 S T R U C T U R E                                                              *
*   													                                                            *
********************************************************************************************************************/

typedef struct sWDG_tTag
{
    uint16_t        u16WdtPeriod; /* watchod period. min (ms) : 1, max (ms) : 1638 (ms) */
    wdtResetFunc_t  pfvResetWdt;  /* watchdog refresh function */
} sWDG_t;

/********************************************************************************************************************
*													                                                                *
*	                          P U B L I C S  F U N C T I O N  D E C L A R A T I O N                                 *
*   													                                                            *
********************************************************************************************************************/


/**
 * @brief Initialize the watchdog peripheral
 * 
 * @param [in] psWdtCfg watchdog configuration parameters
 */
void vWdtInitInst(sWDG_t* psWdtCfg);

#endif
